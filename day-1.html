<script>
console.log((() => {

let input

// test inputs
// input = [12]

// input = [14]

input = [1969]

// input = [100756]

// part 1
return input.map(x => Math.floor(x / 3) - 2).reduce((a, b) => a + b)

// part 2
return input.map(n => {
  let fuels = []
  while (n > 0) {
    n = Math.max(0, Math.floor(n / 3) - 2)
    fuels.push(n)
  }
  return fuels.reduce((a, b) => a + b)
}).reduce((a, b) => a + b)

})())

</script>